"use strict";var label_nodes=new Map,node_labels=new Map,height_factor=.5,zoomScale=d3.scaleLog().domain([1,100]).range([5,.8]);d3.json("/influence-graph.json").then(function(a){var b=!0,c=!1,d=void 0;try{for(var e,f,g=a.nodes[Symbol.iterator]();!(b=(e=g.next()).done);b=!0)f=e.value,node_labels.set(f.id,f.label),label_nodes.set(f.label,f.id)}catch(a){c=!0,d=a}finally{try{b||null==g.return||g.return()}finally{if(c)throw d}}var h=[],i=[],j=new Set([wikibase]),k=!0,l=!1,m=void 0;try{for(var n,o,p=a.links[Symbol.iterator]();!(k=(n=p.next()).done);k=!0)o=n.value,o.source==wikibase?(j.add(o.target),i.push(node_labels.get(o.target))):o.target==wikibase&&(j.add(o.source),h.push(node_labels.get(o.source)))}catch(a){l=!0,m=a}finally{try{k||null==p.return||p.return()}finally{if(l)throw m}}var q=a.nodes.filter(function(a){return j.has(a.id)}),r=a.links.filter(function(a){return j.has(a.source)&&j.has(a.target)}),s=document.getElementById("network"),t=s.getBoundingClientRect().width;s.style.height="".concat(t*height_factor,"px");var u=new DiGraph(q,r,"outdegree","mouse");u.draw("#network"),u.zoom.scaleTo(u.g,zoomScale(u.nodes.length))});